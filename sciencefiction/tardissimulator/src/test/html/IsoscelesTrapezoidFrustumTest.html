<html>
<head>
<title>Isosceles Trapezoid Frustum Test</title>
<script src="../../../../../coreweb/lib/require/require-2.2.0.js" data-main="../../main/js/InitialState"></script>
<script src="../../../../../coreweb/lib/three/three-0.79.0.min.js"></script>
<script src="../../../../../coreweb/src/main/js/util/InputValidator.js"></script>
<style>
body {
    margin: 0;
}

canvas {
    width: 100%;
    height: 100%
}
</style>
</head>
<body>
	<script>
        require([ "process/ui/IsoscelesTrapezoidFrustum" ], function(IsoscelesTrapezoidFrustum)
        {
            var scene = new THREE.Scene();
            scene.add(new THREE.AmbientLight(0xFFFFFF, 0.5));
            var pointLight = new THREE.PointLight(0xFFFFFF, 0.9, 0);
            pointLight.position.set(2, 2, 4);
            scene.add(pointLight);
            var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

            var renderer = new THREE.WebGLRenderer(
            {
                antialias: true,
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
            var depth = 1;

            var topTrapezoid =
            {
                xCenter: 0,
                yCenter: 0.5,
                widthTop: 1,
                widthBottom: 1,
                height: 1,
            };
            var bottomTrapezoid =
            {
                xCenter: 0,
                yCenter: 0,
                widthTop: 2,
                widthBottom: 2,
                height: 2,
            };
            var frustum = new IsoscelesTrapezoidFrustum(topTrapezoid, bottomTrapezoid, depth);
            var material = new THREE.MeshStandardMaterial(
            {
                color: 0xFFFFFF,
                metalness: 0.2,
                shading: THREE.FlatShading,
            });

            var shape = new THREE.Mesh(frustum.geometry(), material);
            scene.add(shape);

            camera.position.z = 4;

            var render = function()
            {
                requestAnimationFrame(render);

                var rate = 0.01;
                shape.rotation.x += rate;

                renderer.render(scene, camera);
            };

            render();
        });
    </script>
</body>
</html>
