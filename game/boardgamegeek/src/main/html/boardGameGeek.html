<html>
<head>
<title>BGG Game Finder</title>

<link rel="stylesheet" href="../css/style.css">

<script src="../../../../../coreweb/lib/jquery/jquery-1.11.3.min.js"></script>
<script src="../../../../../coreweb/lib/microevent/microevent-1.0.0.js"></script>
<script src="../../../../../coreweb/lib/react/react-0.13.3.js"></script>
<script src="../../../../../coreweb/lib/reactable/reactable-0.10.0.js"></script>

<script src="../../../../../coreweb/src/main/js/util/Logger.js"></script>
<script src="../../../../../coreweb/src/main/js/util/ArrayAugments.js"></script>
<script src="../../../../../coreweb/src/main/js/util/StringAugments.js"></script>

<script src="../js/FilterUI.js"></script>
<script src="../js/GameDatabase.js"></script>
<script src="../js/GameDetailFetcher.js"></script>
<script src="../js/GameSummaryFetcher.js"></script>
<script src="../js/GameTable.js"></script>
</head>
<body>
	<h1>BoardGameGeek Game Finder</h1>
	<section>
		<div id="filters"></div>
	</section>
	<section>
		<div id="gameTable"></div>
	</section>
	<script>
        "use strict";

        var LOGGER = new Logger();
        LOGGER.setTraceEnabled(false);
        LOGGER.setDebugEnabled(false);

        var filtersUI = React.render(React.createElement(FiltersUI, {}), document.getElementById("filters"));
        var numPages = 3;
        var gameDatabase = new GameDatabase(numPages);
        gameDatabase.bind("dataLoaded", renderTable);
        filtersUI.bind("applyFilters", gameDatabase.setFilters);
        gameDatabase.load();

        function renderTable()
        {
            React.render(React.createElement(GameTable,
            {
                gameDatabase: gameDatabase
            }), document.getElementById("gameTable"));

            gameDatabase.store();
        }
    </script>
</body>
</html>
