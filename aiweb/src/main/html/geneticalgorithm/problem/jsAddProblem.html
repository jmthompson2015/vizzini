<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>JS Add Problem</title>

<link rel="stylesheet" href="../../../css/style.css">

<script src="../../../../../../coreweb/lib/jshint/jshint-2.8.0.js"></script>
<script src="../../../../../../coreweb/lib/microevent/microevent-1.0.0.js"></script>
<script src="../../../../../../coreweb/lib/moment/moment.min-2.10.3.js"></script>
<script src="../../../../../../coreweb/lib/react/react-0.13.3.js"></script>

<script src="../../../../../../coreweb/src/main/js/util/JavaScriptAugments.js"></script>
<script src="../../../../../../coreweb/src/main/js/util/Logger.js"></script>
<script src="../../../../../../coreweb/src/main/js/util/InputValidator.js"></script>
<script src="../../../../../../coreweb/src/main/js/util/ArrayAugments.js"></script>
<script src="../../../../../../coreweb/src/main/js/util/MathAugments.js"></script>

<script src="../../../js/geneticalgorithm/CopyOperator.js"></script>
<script src="../../../js/geneticalgorithm/CrossoverOperator.js"></script>
<script src="../../../js/geneticalgorithm/GAUtilities.js"></script>
<script src="../../../js/geneticalgorithm/GeneticAlgorithm.js"></script>
<script src="../../../js/geneticalgorithm/GenomeComparator.js"></script>
<script src="../../../js/geneticalgorithm/GenomeFactory.js"></script>
<script src="../../../js/geneticalgorithm/JSEvaluator.js"></script>
<script src="../../../js/geneticalgorithm/JSPhenotypeFactory.js"></script>
<script src="../../../js/geneticalgorithm/MutationOperator.js"></script>
<script src="../../../js/geneticalgorithm/Operator.js"></script>
<script src="../../../js/geneticalgorithm/SelectionOperator.js"></script>

<script src="../../../js/geneticalgorithm/problem/JSAddProblem.js"></script>
<script src="../../../js/geneticalgorithm/problem/ProblemControlsUI.js"></script>
<script src="../../../js/geneticalgorithm/problem/ProblemResultsUI.js"></script>
<script src="../../../js/geneticalgorithm/problem/ProblemTableauUI.js"></script>

</head>
<body>
	<h1>JS Add Problem</h1>
	<div id="tableauPanel"></div>
	<div id="controlPanel"></div>
	<div id="resultsPanel"></div>
	<script>
        "use strict";

        var LOGGER = new Logger();
        LOGGER.setTraceEnabled(false);
        LOGGER.setDebugEnabled(false);

        var problem = JSAddProblem;
        var element = React.createElement(ProblemTableauUI,
        {
            problem: problem
        });
        var tableauPanel = React.render(element, document
                .getElementById("tableauPanel"));

        var element = React.createElement(ProblemControlsUI,
        {
            popSize: 200,
            generationCount: 50,
            backCount: 30
        });
        var controlPanel = React.render(element, document
                .getElementById("controlPanel"));

        function submitActionPerformed()
        {
            LOGGER.info("submitActionPerformed() start");
            document.getElementById("resultsPanel").innerHTML = "";
            var popSize = controlPanel.getPopSize();
            var generationCount = controlPanel.getGenerationCount();
            var backCount = controlPanel.getBackCount();

            var ga = problem.createGA(popSize, generationCount, backCount);
            var element = React.createElement(ProblemResultsUI,
            {
                ga: ga,
                isCodeDisplayed: true
            });
            var resultsPanel = React.render(element, document
                    .getElementById("resultsPanel"));

            setTimeout(function()
            {
                ga.determineBest(function()
                {
                    LOGGER.info("Done.");
                });
            }, 300);

            LOGGER.info("submitActionPerformed() end");
        }
    </script>
</body>
</html>
