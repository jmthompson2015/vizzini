<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>JS Add Problem</title>

<link rel="stylesheet" href="../../../css/style.css">

<script src="../../../../../../coreweb/lib/jshint/jshint-2.8.0.js"></script>
<script src="../../../../../../coreweb/lib/microevent/microevent-1.0.0.js"></script>
<script src="../../../../../../coreweb/lib/moment/moment.min-2.10.3.js"></script>
<script src="../../../../../../coreweb/lib/react/react-0.13.3.js"></script>
<script src="../../../../../../coreweb/lib/react/JSXTransformer-0.13.3.js"></script>

<script src="../../../../../../coreweb/src/main/js/util/JavaScriptAugments.js"></script>
<script src="../../../../../../coreweb/src/main/js/util/Logger.js"></script>
<script src="../../../../../../coreweb/src/main/js/util/InputValidator.js"></script>
<script src="../../../../../../coreweb/src/main/js/util/ArrayAugments.js"></script>
<script src="../../../../../../coreweb/src/main/js/util/MathAugments.js"></script>

<script src="../../../js/geneticalgorithm/CrossoverOperator.js"></script>
<script src="../../../js/geneticalgorithm/GAUtilities.js"></script>
<script src="../../../js/geneticalgorithm/GeneticAlgorithm.js"></script>
<script src="../../../js/geneticalgorithm/GenomeComparator.js"></script>
<script src="../../../js/geneticalgorithm/GenomeFactory.js"></script>
<script src="../../../js/geneticalgorithm/JSEvaluator.js"></script>
<script src="../../../js/geneticalgorithm/JSPhenotypeFactory.js"></script>
<script src="../../../js/geneticalgorithm/MutationOperator.js"></script>
<script src="../../../js/geneticalgorithm/SelectionOperator.js"></script>

<script src="../../../js/geneticalgorithm/problem/JSAddProblem.js"></script>

<script type="text/jsx" src="../../../js/geneticalgorithm/problem/ProblemUI.js"></script>

</head>
<body>
	<h1>JS Add Problem</h1>
	<table>
		<tr>
			<td>Population Size:</td>
			<td><input id="popSizeInput" type="number" value=200 /></td>
		</tr>
		<tr>
			<td>Generation Count:</td>
			<td><input id="generationCountInput" type="number" value=50 /></td>
		</tr>
		<tr>
			<td>Back Count:</td>
			<td><input id="backCountInput" type="number" value=30 /></td>
		</tr>
		<tr>
			<td colspan=2 class="buttonsPanel"><button onclick="submitActionPerformed();">Submit</button></td>
		</tr>
	</table>
	<div id="problemPanel"></div>
	<script type="text/jsx">
        "use strict";

    	var LOGGER = new Logger();
    	LOGGER.setTraceEnabled(false);

		function submitActionPerformed()
		{
			LOGGER.info("submitActionPerformed() start");
			document.getElementById("problemPanel").innerHTML = "";
			var popSize = getNumber("popSizeInput"); 
			var generationCount = getNumber("generationCountInput");
			var backCount = getNumber("backCountInput");

        	var problem = new JSAddProblem(popSize, generationCount, backCount);

	        var ga = problem.createGA();
    	    var problemUI = React.render(<ProblemUI ga={ga} />, 
				document.getElementById("problemPanel"));

        	setTimeout(function()
        	{
				ga.determineBest(function(){LOGGER.info("Done.");});
        	}, 300);

			LOGGER.info("submitActionPerformed() end");
		}

		function getNumber(elementId)
		{
			var value= document.getElementById(elementId).value;

			return Number(value); 
		}
    </script>
</body>
</html>
