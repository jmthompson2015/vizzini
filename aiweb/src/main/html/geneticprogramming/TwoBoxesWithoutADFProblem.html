<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Two Boxes Without ADF</title>

<link rel="stylesheet" href="../../css/style.css">

<script src="../../../../../coreweb/lib/microevent/microevent-1.0.0.js"></script>
<script src="../../../../../coreweb/lib/moment/moment.min-2.10.3.js"></script>
<script src="../../../../../coreweb/lib/react/react-with-addons-15.3.0.min.js"></script>
<script src="../../../../../coreweb/lib/react-dom/react-dom-15.3.0.min.js"></script>
<script src="../../../../../coreweb/lib/require/require-2.2.0.js" data-main="../../js/geneticprogramming/Terminal"></script>

<script src="../../../../../coreweb/src/main/js/util/JavaScriptAugments.js"></script>
<script src="../../../../../coreweb/src/main/js/util/Logger.js"></script>
<script src="../../../../../coreweb/src/main/js/util/InputValidator.js"></script>
<script src="../../../../../coreweb/src/main/js/util/ArrayAugments.js"></script>
<script src="../../../../../coreweb/src/main/js/util/MathAugments.js"></script>

</head>
<body>
	<h1>Two Boxes Without ADF</h1>
	<div id="tableauPanel"></div>
	<div id="controlPanel"></div>
	<div id="resultsPanel"></div>
	<script>
        "use strict";

        var LOGGER = new Logger();
        LOGGER.setTraceEnabled(false);
        LOGGER.setDebugEnabled(false);

        require([ "problem/ProblemControlsUI", "problem/ProblemResultsUI", "problem/ProblemTableauUI",
                "problem/TwoBoxesWithoutADF" ],
                function(ProblemControlsUI, ProblemResultsUI, ProblemTableauUI, Problem)
                {
                    var problem = new Problem(0, 0);
                    var element = React.createElement(ProblemTableauUI,
                    {
                        problem: problem
                    });
                    var tableauPanel = ReactDOM.render(element, document.getElementById("tableauPanel"));

                    var element = React.createElement(ProblemControlsUI,
                    {
                        popSize: 4000,
                        generationCount: 51,
                        submitFunction: submitActionPerformed,
                    });
                    var controlPanel = ReactDOM.render(element, document.getElementById("controlPanel"));

                    function submitActionPerformed()
                    {
                        LOGGER.info("submitActionPerformed() start");
                        document.getElementById("resultsPanel").innerHTML = "";
                        var popSize = controlPanel.getPopSize();
                        var generationCount = controlPanel.getGenerationCount();

                        var problem = new Problem(popSize, generationCount);
                        var ga = problem.createGeneticAlgorithm();
                        var element = React.createElement(ProblemResultsUI,
                        {
                            ga: ga,
                            isCodeDisplayed: true
                        });
                        var resultsPanel = ReactDOM.render(element, document.getElementById("resultsPanel"));

                        setTimeout(function()
                        {
                            ga.determineBest(function()
                            {
                                LOGGER.info("Done.");
                            });
                        }, 300);

                        LOGGER.info("submitActionPerformed() end");
                    }
                });
    </script>
</body>
</html>
