<!DOCTYPE html>
<html lang="en">
<head>
<title>Ship Gallery</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../css/style.css">

<script src="../../../../coreweb/lib/react/react-0.13.3.js"></script>
<script src="../../../../coreweb/lib/react/JSXTransformer-0.13.3.js"></script>
<script src="../../../../coreweb/lib/microevent/microevent-1.0.0.js"></script>

<script src="../../../../coreweb/src/main/js/util/JavaScriptAugments.js"></script>
<script src="../../../../coreweb/src/main/js/util/Logger.js"></script>
<script src="../../../../coreweb/src/main/js/util/InputValidator.js"></script>
<script src="../../../../coreweb/src/main/js/util/ArrayAugments.js"></script>

<script src="../js/Maneuver.js"></script>
<script src="../js/ShipAction.js"></script>
<script src="../js/Ship.js"></script>
<script src="../js/Team.js"></script>
<script src="../js/ShipTeam.js"></script>
<script src="../js/SimpleAgent.js"></script>
<script src="../js/SquadBuilder.js"></script>
<script src="../js/RangeRuler.js"></script>
<script src="../js/Weapon.js"></script>
<script src="../js/UpgradeCard.js"></script>
<script src="../js/Pilot.js"></script>
<script src="../js/Token.js"></script>
<script src="../js/DamageCard.js"></script>

<script src="../js/ui/ImageUtilities.js"></script>

<script type="text/jsx" src="../js/ui/ManeuverChooser.js"></script>
<script type="text/jsx" src="../js/ui/PilotCardUI.js"></script>

<style>
.galleryTable {
    background-color: black;
    border-collapse: collapse;
}

.galleryCell {
    border: 3px solid lightGray;
    padding: 5px;
    text-align: center;
}

.shipName {
    color: white;
}
</style>
</head>
<body>
	<h1>Starfighter Squadrons Ship Gallery</h1>
	<h2>Imperial</h2>
	<div id="imperialShips"></div>
	<h2>Rebel</h2>
	<div id="rebelShips"></div>
	<h2>Scum &amp; Villainy</h2>
	<div id="scumShips"></div>
	<script type="text/jsx">
    "use strict";
    var LOGGER = new Logger();
	var imageBase = PilotCardUI.ImagesUrl + "ship/";
	var imageUtils = new ImageUtilities();
	var ShipGallery = React.createClass(
	{
	    render: function() 
    	{
			var team = this.props.team;
			var shipTeams = ShipTeam.valuesByTeam(team);
		    var agent = new SimpleAgent("Agent", team, CoreSetImperialSquadBuilder);

			var cells0 = [];
			var cells1 = [];
			var cells2 = [];

			shipTeams.forEach(function(shipTeam, i)
			{
				// var ship = ShipTeam.properties[shipTeam].ship;
				var shipName = ShipTeam.properties[shipTeam].name;
				var filename = imageBase + ShipTeam.properties[shipTeam].image;
				var pilot = Pilot.valuesByShipTeam(shipTeam)[0];
				var token = new Token(pilot, agent);
				// var maneuvers = Ship.properties[ship].maneuvers;

				cells0.push(<td key={"image" + i} className="galleryCell"><img src={filename} /></td>);
				cells1.push(<td key={"name" + i} className="galleryCell">{shipName}</td>);
				cells2.push(<td key={"maneuvers" + i} className="galleryCell alignTop"><ManeuverChooser token={token} isPilotNameShown={false} imageUtils={imageUtils} /></td>);
			});

			return <table className="galleryTable">
				<tr>{cells0}</tr>
				<tr className="shipName">{cells1}</tr>
				<tr>{cells2}</tr>
				</table>;
		}
	});

	React.render(<ShipGallery team={Team.IMPERIAL} />, document.getElementById("imperialShips"));
	React.render(<ShipGallery team={Team.REBEL} />, document.getElementById("rebelShips"));
	React.render(<ShipGallery team={Team.SCUM} />, document.getElementById("scumShips"));
	</script>
</body>
</html>
