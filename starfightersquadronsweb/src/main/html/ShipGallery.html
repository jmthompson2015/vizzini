<!DOCTYPE html>
<html lang="en">
<head>
<title>Ship Gallery</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../css/style.css">

<script src="../../../../coreweb/lib/react/react-0.13.3.js"></script>
<script src="../../../../coreweb/lib/microevent/microevent-1.0.0.js"></script>

<script src="../../../../coreweb/src/main/js/util/JavaScriptAugments.js"></script>
<script src="../../../../coreweb/src/main/js/util/Logger.js"></script>
<script src="../../../../coreweb/src/main/js/util/InputValidator.js"></script>
<script src="../../../../coreweb/src/main/js/util/ArrayAugments.js"></script>

<script src="../js/FiringArc.js"></script>
<script src="../js/Maneuver.js"></script>
<script src="../js/ShipAction.js"></script>
<script src="../js/ShipBase.js"></script>
<script src="../js/Ship.js"></script>
<script src="../js/Team.js"></script>
<script src="../js/ShipTeam.js"></script>
<script src="../js/SimpleAgent.js"></script>
<script src="../js/SquadBuilder.js"></script>
<script src="../js/RangeRuler.js"></script>
<script src="../js/Weapon.js"></script>
<script src="../js/ShipState.js"></script>
<script src="../js/UpgradeRestriction.js"></script>
<script src="../js/UpgradeType.js"></script>
<script src="../js/UpgradeCard.js"></script>
<script src="../js/Pilot.js"></script>
<script src="../js/Token.js"></script>
<script src="../js/DamageCard.js"></script>

<script src="../js/ui/ImageUtilities.js"></script>
<script src="../js/ui/ManeuverChooser.js"></script>

<style>
.galleryTable {
	background-color: black;
	border-collapse: collapse;
}

.galleryCell {
	border: 3px solid lightGray;
	padding: 5px;
	text-align: center;
}

.shipName {
	color: white;
}
</style>
</head>
<body>
	<h1>Starfighter Squadrons Ship Gallery</h1>
	<h2>Imperial</h2>
	<div id="imperialShips"></div>
	<h2>Rebel</h2>
	<div id="rebelShips"></div>
	<h2>Scum &amp; Villainy</h2>
	<div id="scumShips"></div>
	<script>
        "use strict";
        var LOGGER = new Logger();
        var imageBase = "../resources/images/ship/";
        var imageUtils = new ImageUtilities();
        var ShipGallery = React.createClass(
        {
            render: function()
            {
                var team = this.props.team;
                var shipTeams = ShipTeam.valuesByTeam(team);
                var agent = new SimpleAgent("Agent", team, CoreSetImperialSquadBuilder);

                var cells0 = [];
                var cells1 = [];
                var cells2 = [];

                shipTeams.forEach(function(shipTeam, i)
                {
                    var shipName = ShipTeam.properties[shipTeam].name;
                    var filename = imageBase + ShipTeam.properties[shipTeam].image;
                    var pilot = Pilot.valuesByShipTeam(shipTeam)[0];
                    var token = new Token(pilot, agent);

                    var image = React.DOM.img(
                    {
                        src: filename
                    });
                    var chooser = React.createElement(ManeuverChooser,
                    {
                        token: token,
                        isPilotNameShown: false,
                        imageUtils: imageUtils
                    });
                    cells0.push(React.DOM.td(
                    {
                        key: "image" + i,
                        className: "galleryCell"
                    }, image));
                    cells1.push(React.DOM.td(
                    {
                        key: "name" + i,
                        className: "galleryCell"
                    }, shipName));
                    cells2.push(React.DOM.td(
                    {
                        key: "maneuvers" + i,
                        className: "galleryCell alignTop"
                    }, chooser));
                });

                var rows = [];
                rows.push(React.DOM.tr(
                {
                    key: 0
                }, cells0));
                rows.push(React.DOM.tr(
                {
                    key: 1,
                    className: "shipName"
                }, cells1));
                rows.push(React.DOM.tr(
                {
                    key: 2
                }, cells2));
                return React.DOM.table(
                {
                    className: "galleryTable"
                }, rows);
            }
        });

        var element0 = React.createElement(ShipGallery,
        {
            team: Team.IMPERIAL
        });
        React.render(element0, document.getElementById("imperialShips"));
        var element1 = React.createElement(ShipGallery,
        {
            team: Team.REBEL
        });
        React.render(element1, document.getElementById("rebelShips"));
        var element2 = React.createElement(ShipGallery,
        {
            team: Team.SCUM
        });
        React.render(element2, document.getElementById("scumShips"));
    </script>
</body>
</html>
