<!DOCTYPE html>
<html>
<head>
<title>MyTestPilotCardUI</title>

<link rel="stylesheet" href="../../../main/css/style.css">

<script src="../../../../../coreweb/lib/react/react-0.13.3.js"></script>
<script src="../../../../../coreweb/lib/react/JSXTransformer-0.13.3.js"></script>
<script src="../../../../../coreweb/lib/microevent/microevent-1.0.0.js"></script>

<script src="../../../../../coreweb/src/main/js/util/JavaScriptAugments.js"></script>
<script src="../../../../../coreweb/src/main/js/util/Logger.js"></script>
<script src="../../../../../coreweb/src/main/js/util/ArrayAugments.js"></script>
<script src="../../../../../coreweb/src/main/js/util/InputValidator.js"></script>

<script src="../../../main/js/RangeRuler.js"></script>
<script src="../../../main/js/Weapon.js"></script>
<script src="../../../main/js/Team.js"></script>
<script src="../../../main/js/Maneuver.js"></script>
<script src="../../../main/js/ShipAction.js"></script>
<script src="../../../main/js/Ship.js"></script>
<script src="../../../main/js/UpgradeCard.js"></script>
<script src="../../../main/js/Pilot.js"></script>

<script src="../../../main/js/DamageCard.js"></script>
<script src="../../../main/js/Environment.js"></script>
<script src="../../../main/js/Position.js"></script>
<script src="../../../main/js/SimpleAgent.js"></script>
<script src="../../../main/js/SquadBuilder.js"></script>
<script src="../../../main/js/Token.js"></script>

<script src="../../../main/js/ui/ImageUtilities.js"></script>

<script type="text/jsx" src="../../../main/js/ui/HumanAgent.js"></script>
<script type="text/jsx" src="../../../main/js/ui/UpgradeCardUI.js"></script>
<script type="text/jsx" src="../../../main/js/ui/PilotCardUI.js"></script>

</head>
<body>
	<table>
		<tr>
			<td id="imperialPilotCompact" style="vertical-align: top"></td>
			<td id="rebelPilotCompact" style="vertical-align: top"></td>
		</tr>
		<tr>
			<td id="imperialPilotLarge" style="vertical-align: top"></td>
			<td id="rebelPilotLarge" style="vertical-align: top"></td>
		</tr>
		<tr>
			<td><button type="button" onclick="updateImperialToken();">Update</button></td>
			<td><button type="button" onclick="updateRebelToken()">Update</button></td>
		</tr>
	</table>
	<script type="text/jsx">
        "use strict";
        var LOGGER = new Logger();
        var imageUtils = new ImageUtilities();

        var imperialAgent = new SimpleAgent("Imperial Agent", Team.IMPERIAL,
                CoreSetImperialSquadBuilder);
        var imperialToken = new Token(Pilot.ACADEMY_PILOT, imperialAgent);
        imperialToken.increaseCloakCount();
        imperialToken.increaseEvadeCount();
        imperialToken.increaseEvadeCount();
        imperialToken.increaseFocusCount();
        imperialToken.increaseFocusCount();
        imperialToken.increaseFocusCount();

        var rebelAgent = new HumanAgent("Rebel Agent", Team.REBEL,
                CoreSetRebelSquadBuilder, new ImageUtilities());
        var rebelToken = new Token(Pilot.ROOKIE_PILOT, rebelAgent);
        rebelToken.increaseIonCount();
        rebelToken.increaseStressCount();
        rebelToken.addDamage(DamageCard.BLINDED_PILOT);

        React.render(<PilotCardUI isCompact={true} initialToken={imperialToken} />, 
				document.getElementById("imperialPilotCompact"));

        React.render(<PilotCardUI isCompact={true} initialToken={rebelToken} />, 
				document.getElementById("rebelPilotCompact"));

        React.render(<PilotCardUI isCompact={false} initialToken={imperialToken} />, 
				document.getElementById("imperialPilotLarge"));

        React.render(<PilotCardUI isCompact={false} initialToken={rebelToken} />, 
				document.getElementById("rebelPilotLarge"));

        function updateImperialToken()
        {
            LOGGER.info("updateImperialToken() start");
            imperialToken.addDamage(DamageCard.DIRECT_HIT);
            imperialToken.addCriticalDamage(DamageCard.BLINDED_PILOT);
            imperialToken.increaseCloakCount();
            imperialToken.increaseEvadeCount();
            imperialToken.increaseFocusCount();
            LOGGER.info("updateImperialToken() end");
        }

        function updateRebelToken()
        {
            LOGGER.info("updateRebelToken() start");
            rebelToken.addDamage(DamageCard.DIRECT_HIT);
            rebelToken.addCriticalDamage(DamageCard.BLINDED_PILOT);
            rebelToken.increaseIonCount();
            rebelToken.decreaseShieldCount();
            rebelToken.increaseStressCount();
            LOGGER.info("updateRebelToken() end");
        }
    </script>
</body>
</html>
