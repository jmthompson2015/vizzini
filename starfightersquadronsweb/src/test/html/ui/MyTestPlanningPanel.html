<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MyTestPlanningPanel</title>

<link rel="stylesheet" href="../../../main/css/style.css">

<script src="../../../../../coreweb/lib/react/react-15.0.1.min.js"></script>
<script src="../../../../../coreweb/lib/react-dom/react-dom-15.0.1.min.js"></script>
<script src="../../../../../coreweb/lib/react-redux/react-redux-4.4.2.min.js"></script>
<script src="../../../../../coreweb/lib/reactable/reactable-0.13.0.js"></script>
<script src="../../../../../coreweb/lib/redux/redux-3.4.0.min.js"></script>
<script src="../../../../../coreweb/lib/require/require-2.2.0.js" data-main="../../../main/js/Team"></script>

<script src="../../../../../coreweb/src/main/js/util/JavaScriptAugments.js"></script>
<script src="../../../../../coreweb/src/main/js/util/Logger.js"></script>
<script src="../../../../../coreweb/src/main/js/util/InputValidator.js"></script>
<script src="../../../../../coreweb/src/main/js/util/ArrayAugments.js"></script>
<script src="../../../../../coreweb/src/main/js/util/HtmlUtilities.js"></script>

<script src="../../../../../coreweb/src/main/js/ui/OptionPane.js"></script>

</head>
<body>
	<div id="inputArea" style="background-color: lightBlue; display: inline-block;"></div>
	<script>
        var LOGGER = new Logger();

        var resourceBase = "https://raw.githubusercontent.com/jmthompson2015/vizzini/master/starfightersquadronsweb/src/main/resources/";
        var audioBase = resourceBase + "audio/";
        var iconBase = resourceBase + "icons/";
        var imageBase = resourceBase + "images/";

        require([ "EnvironmentFactory", "Pilot", "SimpleAgent", "SquadBuilder", "Team", "Token", "ui/PlanningPanel" ],
                function(EnvironmentFactory, Pilot, SimpleAgent, SquadBuilder, Team, Token, PlanningPanel)
                {
                    var environment = EnvironmentFactory.createCoreSetEnvironment();
                    var adjudicator;
                    var imperialAgent = new SimpleAgent("Imperial Agent", Team.IMPERIAL);
                    var token0 = new Token(Pilot.ACADEMY_PILOT, imperialAgent);
                    var token1 = new Token(Pilot.TEMPEST_SQUADRON_PILOT, imperialAgent);
                    var token2 = new Token(Pilot.ALPHA_SQUADRON_PILOT, imperialAgent);
                    var tokens = [ token0, token1, token2 ];
                    var caller = {};
                    function callback(planningAction)
                    {
                        LOGGER.info("caller.callback() start");

                        for (var i = 0; i < tokens.length; i++)
                        {
                            var token = tokens[i];
                            var maneuver = planningAction.getManeuver(token);
                            LOGGER.info(token + ": " + maneuver);
                        }

                        LOGGER.info("caller.callback() end");
                    }

                    var element = React.createElement(PlanningPanel,
                    {
                        environment: environment,
                        agent: imperialAgent,
                        tokens: tokens,
                        callback: callback
                    });
                    ReactDOM.render(element, document.getElementById("inputArea"));
                });
    </script>
</body>
</html>
